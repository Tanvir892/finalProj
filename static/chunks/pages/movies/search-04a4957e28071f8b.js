(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[743],{4612:function(n,k,c){"use strict";c.d(k,{II:function(){return d}});var o=c(9762),a=c(1604),b=c(9703),p=c(7294),q=c(6450);function r(){return(r=Object.assign?Object.assign.bind():function(d){for(var a=1;a<arguments.length;a++){var b=arguments[a];for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(d[c]=b[c])}return d}).apply(this,arguments)}function s(c,f){if(null==c)return{};var a,b,d={},e=Object.keys(c);for(b=0;b<e.length;b++)a=e[b],f.indexOf(a)>=0||(d[a]=c[a]);return d}var t=["htmlSize"],d=(0,a.Gp)(function(c,e){var f=c.htmlSize,d=s(c,t),g=(0,a.jC)("Input",d),h=(0,a.Lr)(d),i=(0,o.Yp)(h),j=(0,b.cx)("chakra-input",c.className);return p.createElement(a.m$.input,r({size:f},i,{__css:g.field,ref:e,className:j}))});b.Ts&&(d.displayName="Input"),d.id="Input";var u=["children","className"],e=(0,a.eC)("InputGroup"),v=e[0],w=e[1],l=(0,a.Gp)(function(d,g){var e=(0,a.jC)("Input",d),c=(0,a.Lr)(d),h=c.children,i=c.className,j=s(c,u),k=(0,b.cx)("chakra-input__group",i),m={},f=(0,q.WR)(h),n=e.field;f.forEach(function(a){var b,c;e&&(n&&"InputLeftElement"===a.type.id&&(m.paddingStart=null!=(b=n.height)?b:n.h),n&&"InputRightElement"===a.type.id&&(m.paddingEnd=null!=(c=n.height)?c:n.h),"InputRightAddon"===a.type.id&&(m.borderEndRadius=0),"InputLeftAddon"===a.type.id&&(m.borderStartRadius=0))});var l=f.map(function(a){var c,e,f=(0,b.YU)({size:(null==(c=a.props)?void 0:c.size)||d.size,variant:(null==(e=a.props)?void 0:e.variant)||d.variant});return"Input"!==a.type.id?p.cloneElement(a,f):p.cloneElement(a,Object.assign(f,m,a.props))});return p.createElement(a.m$.div,r({className:k,ref:g,__css:{width:"100%",display:"flex",position:"relative"}},j),p.createElement(v,{value:e},l))});b.Ts&&(l.displayName="InputGroup");var x=["placement"],y={left:{marginEnd:"-1px",borderEndRadius:0,borderEndColor:"transparent"},right:{marginStart:"-1px",borderStartRadius:0,borderStartColor:"transparent"}},z=(0,a.m$)("div",{baseStyle:{flex:"0 0 auto",width:"auto",display:"flex",alignItems:"center",whiteSpace:"nowrap"}}),m=(0,a.Gp)(function(a,d){var b,c=a.placement,e=s(a,x),f=null!=(b=y[void 0===c?"left":c])?b:{},g=w();return p.createElement(z,r({ref:d},e,{__css:r({},g.addon,f)}))});b.Ts&&(m.displayName="InputAddon");var f=(0,a.Gp)(function(a,c){return p.createElement(m,r({ref:c,placement:"left"},a,{className:(0,b.cx)("chakra-input__left-addon",a.className)}))});b.Ts&&(f.displayName="InputLeftAddon"),f.id="InputLeftAddon";var g=(0,a.Gp)(function(a,c){return p.createElement(m,r({ref:c,placement:"right"},a,{className:(0,b.cx)("chakra-input__right-addon",a.className)}))});b.Ts&&(g.displayName="InputRightAddon"),g.id="InputRightAddon";var A=["placement"],B=["className"],C=["className"],D=(0,a.m$)("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:"0",zIndex:2}}),h=(0,a.Gp)(function(c,h){var d,e,b,f=c.placement,i=s(c,A),g=w(),a=g.field,j="left"===(void 0===f?"left":f)?"insetStart":"insetEnd",k=r(((b={})[j]="0",b.width=null!=(d=null==a?void 0:a.height)?d:null==a?void 0:a.h,b.height=null!=(e=null==a?void 0:a.height)?e:null==a?void 0:a.h,b.fontSize=null==a?void 0:a.fontSize,b),g.element);return p.createElement(D,r({ref:h,__css:k},i))});h.id="InputElement",b.Ts&&(h.displayName="InputElement");var i=(0,a.Gp)(function(a,c){var d=a.className,e=s(a,B),f=(0,b.cx)("chakra-input__left-element",d);return p.createElement(h,r({ref:c,placement:"left",className:f},e))});i.id="InputLeftElement",b.Ts&&(i.displayName="InputLeftElement");var j=(0,a.Gp)(function(a,c){var d=a.className,e=s(a,C),f=(0,b.cx)("chakra-input__right-element",d);return p.createElement(h,r({ref:c,placement:"right",className:f},e))});j.id="InputRightElement",b.Ts&&(j.displayName="InputRightElement")},541:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/movies/search",function(){return c(2670)}])},5088:function(c,b,a){"use strict";var d=a(5893),e=a(1163),f=a(7294),g=a(8470);b.Z=function(b){var c=b.children,h=(0,g.a)(),i=(0,e.useRouter)(),a=(0,f.useState)(!1),j=a[0],k=a[1];return((0,f.useEffect)(function(){h.isAuthenticated?i.push("/"):k(!0)},[h.isAuthenticated,i]),j)?(0,d.jsx)(d.Fragment,{children:c}):null}},5519:function(c,b,a){"use strict";a.d(b,{"_":function(){return h}});var d=a(5893),e=a(1163),f=a(7294),g=a(8470),h=function(c){var h=c.children,i=(0,g.a)(),a=(0,e.useRouter)(),b=(0,f.useState)(!1),j=b[0],k=b[1];return((0,f.useEffect)(function(){a.isReady&&(i.isAuthenticated?k(!0):a.push({pathname:"/auth/login",query:{backTo:a.asPath}}))},[a.isReady,i.isAuthenticated,a]),j)?(0,d.jsx)(d.Fragment,{children:h}):null};a(5088)},8470:function(c,b,a){"use strict";a.d(b,{a:function(){return f}});var d=a(7294),e=a(3008),f=function(){return(0,d.useContext)(e.Vo)}},973:function(d,b,a){"use strict";a.d(b,{H:function(){return s}});var e=a(5893),c=a(8790);a(7294);var f=(0,a(1604).m$)(c.W2,{baseStyle:{maxWidth:{base:"100%",md:"75%",lg:"55%"},height:"calc(100vh - 90px)"}}),g=a(1351),h=a(4480),i=a(5193),j=a(5684),k=a(1799),l=a(9534),m=a(949),n=a(9762),o=a(4971),p=function(a){var b=a.showLabel,f=(0,l.Z)(a,["showLabel"]),c=(0,m.If)(),g=c.toggleColorMode,d=c.colorMode;return(0,e.jsxs)(e.Fragment,{children:[void 0!==b&&b&&(0,e.jsx)(n.lX,{htmlFor:"theme-toggler",mb:0,children:"Enable Dark Theme"}),(0,e.jsx)(o.r,(0,k.Z)({id:"theme-toggler",size:"lg",isChecked:"dark"===d,isDisabled:!1,value:d,colorScheme:"purple",mr:2,onChange:g},f))]})},q=a(8470),r=function(b){var b=null!==b?b:(0,g.Z)(TypeError("Cannot destructure undefined")),d=(0,q.a)(),a=d.user,f=d.logout;return(0,e.jsx)(c.kC,{as:"nav",px:10,h:"90px",gap:10,alignItems:"center",justifyContent:{base:"flex-end",sm:"space-between",md:"flex-end",lg:"flex-end"},position:"sticky",top:0,zIndex:100,children:(0,e.jsxs)(c.Ug,{children:[(0,e.jsx)(c.xv,{fontSize:"large",children:null==a?void 0:a.user.username}),(0,e.jsxs)(h.v2,{children:[(0,e.jsx)(h.j2,{bg:"transparent",_hover:{bg:"transparent"},_active:{bg:"transparent"},as:i.zx,leftIcon:(0,e.jsx)(j.qE,{size:"md",name:a&&a.user.first_name?"".concat(null==a?void 0:a.user.first_name," ").concat(null==a?void 0:a.user.last_name):(null==a?void 0:a.user.username)||"DJ"})}),(0,e.jsxs)(h.qy,{children:[(0,e.jsx)(h.sN,{onClick:function(){return f()},children:"Logout"}),(0,e.jsx)(h.sN,{children:(0,e.jsxs)(c.kC,{justifyContent:"space-between",w:"100%",children:[(0,e.jsx)(c.xu,{as:"span",children:"Switch Theme"}),(0,e.jsx)(p,{})]})})]})]})]})})},s=function(a){var b=a.children;return(0,e.jsxs)(c.xu,{children:[(0,e.jsx)(r,{}),(0,e.jsx)(f,{children:b})]})}},2670:function(f,b,a){"use strict";a.r(b);var g=a(7568),d=a(4051),h=a.n(d),i=a(5893),j=a(7294),k=a(4562),l=a(8790),m=a(4612),n=a(5193),o=a(9609),p=a(5519),q=a(973),e=a(1664),r=a.n(e),s=a(2371),t=a(3135),c=function(){var e,u=(0,k.pm)(),a=(0,j.useState)(""),f=a[0],v=a[1],b=(0,j.useState)([]),c=b[0],w=b[1],d=(0,j.useState)(!1),p=d[0],x=d[1],q=(e=(0,g.Z)(h().mark(function a(b){return h().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:b.preventDefault(),x(!0),s.Z.get("".concat(t.T,"/api/movie/search/"),{params:{query:f}}).then(function(a){w(a.data)}).catch(function(c){var a,b;u({title:"An error occurred.",description:(null===(a=c.response)|| void 0===a?void 0:null===(b=a.data)|| void 0===b?void 0:b.error)||c.message,status:"error",duration:5e3,isClosable:!0})}).finally(function(){x(!1)});case 3:case"end":return a.stop()}},a)})),function(a){return e.apply(this,arguments)});return(0,i.jsxs)(l.xu,{children:[(0,i.jsx)("form",{onSubmit:q,children:(0,i.jsxs)(l.kC,{gap:1,children:[(0,i.jsx)(m.II,{type:"text",placeholder:"Search for a movie",value:f,onChange:function(a){v(a.target.value)}}),(0,i.jsx)(n.zx,{type:"submit",children:"Search\uD83D\uDD0D"})]})}),p&&(0,i.jsx)(o.$,{}),c.length>0&&(0,i.jsx)(l.aV,{mt:10,spacing:2,children:c.map(function(a){return(0,i.jsx)(l.HC,{children:(0,i.jsx)(r(),{href:"/ratings?movieId=".concat(a.movie_id),children:(0,i.jsx)("a",{children:a.title})})},a.id)})})]})};c.getLayout=function(a){return(0,i.jsx)(p._,{children:(0,i.jsx)(q.H,{children:a})})},b.default=c}},function(a){a.O(0,[467,156,664,774,888,179],function(){var b;return a(a.s=541)}),_N_E=a.O()}])